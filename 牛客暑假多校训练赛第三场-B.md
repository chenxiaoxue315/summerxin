#         牛客暑假多校训练赛第三场-B

#### 来源：https://ac.nowcoder.com/acm/contest/5668/B

描述：给定一个字符串S由小写字母组成。 你要逐一执行Q操作。 每个操作可以是以下两种类型之一：

1. 修改：给定整数x。 需要根据x的值修改S。 如果x是正数的，将S中最左的x个字母移动到S的右侧；否则，将S中最右的|x|个字母移动到S的左侧。
2. 答案：给定一个正整数x。 请回答当前字符串S中的第x个字母是什么。 

输入：输入中有Q+2行。第一行字符串S。第二行整数Q。 下列Q线各表示一个运算。 执行这些操作时，需要遵循输入中的顺序。 输入中的每个操作都由字符c和整数x表示。 

- 如果c=‘M’，则此操作为修改操作，即根据x的值重新排列S；
- 如果c=‘A’，则此操作为应答操作，回答当前字符串S中的第x个字母是什么。

输出：牛客网对于每个答案操作，请在单独的一行中输出一个字母，表示操作的答案。 输出的顺序应与输入中操作的顺序相匹配。

样例：                                  输出：

nowcoder                             n
6                                            o
A 1                                         w
M 4
A 6
M -3
M 1
A 1

S是‘nowcoder’，接下来有六个操作。 第一个操作是问第一个字母是什么。 答案是‘n‘。 第二个操作是将最左边的4个字母移动到最右边，因此S被修改为‘odernowc‘。 第三个操作是问第六个字母是什么。 答案是‘o‘。 第4个操作是将最右边的3个字母移动到最左边，因此S被修改为“owcodern‘。 第5个操作是将最左边的1个字母移动到最右边，因此S被修改为“wcoderno‘。 第6次操作是问第一个字母是什么。 答案是‘w‘。

思路：难度主要在于，当数组改变后，我们要怎么输出正确的结果，这时我们用一个t记录着原本输入字符串的第一位，通过t的变化，描绘出数组的改变。当要输出某个位置的字符时，我们直接通过t，即a[(t+x-1)%len来确定出要输出字符的所在位置。

上代码：

```c++
#include <bits/stdc++.h>
using namespace std;
const int maxn=2e6+5;
char c,a[maxn];
int main() {
    int q,x;
    int i,len;//记录给定字符串的长度
    int t=0;
    scanf("%s",a);
    len = strlen(a);
    scanf("%d",&q);//q为操作次数
    for(i=0;i<q;i++){
        getchar();    //消耗掉操作次数的回车键
        scanf("%c %d",&c,&x);
        if(c == 'A') printf("%c\n",a[(t+x-1)%len]);
         
        else t = (t+len+x)%len;//这个代码的灵魂，t始终指向的是原本字符串的第一位
    }
    return 0;
}
```

